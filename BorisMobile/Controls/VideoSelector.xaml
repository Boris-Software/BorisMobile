<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BorisMobile.Controls.VideoSelector"
             xmlns:controls="clr-namespace:BorisMobile.Controls"
             x:Name="this">
    <Grid  RowDefinitions="Auto,Auto">
        <StackLayout Grid.Row="0" Margin="0,15,0,0">
            <StackLayout Orientation="Horizontal">
                <Label x:Name="titleLabel" Text="{Binding Title, Source={x:Reference this}}" TextColor="Black"/>
                <Label x:Name="mandatory" Text="*" TextColor="Red"></Label>
            </StackLayout>

            <ImageButton Clicked="ImageButton_Clicked_1" BackgroundColor="Transparent" Padding="0" Source="video.png" HeightRequest="50" WidthRequest="50" Margin="0,10,0,0"/>

            <!--<ImageButton Clicked="ImageButton_Clicked" Background="Red"
                BackgroundColor="Transparent" 
                Padding="0" Source="video.png" HeightRequest="50" WidthRequest="50" Margin="0,10,0,0"/>--> 
        </StackLayout>

        <!-- Video Gallery -->
        <ScrollView Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,0" IsVisible="{Binding HasVideos}">
            <HorizontalStackLayout x:Name="videoGallery" Spacing="10">
                <!-- Videos will be added here programmatically -->
            </HorizontalStackLayout>
        </ScrollView>

        <!-- Picker Popup -->
        <StackLayout x:Name="videopickerPopup" BackgroundColor="#E3E5E5" Margin="5" 
             Padding="10" HorizontalOptions="FillAndExpand"
             HeightRequest="200" IsVisible="false">
            <StackLayout Orientation="Horizontal">
                <Label Text="Image Selector" FontAttributes="Bold" HorizontalOptions="Start"/>
                <Button Text="X" HorizontalOptions="EndAndExpand"  FontAttributes="Bold" TextColor="White" BackgroundColor="Gray" FontSize="9" Padding="0" Margin="0" CornerRadius="15 " HeightRequest="30" WidthRequest="30" Clicked="Button_Clicked"></Button>
            </StackLayout>
            <Label Text="Pick video" VerticalTextAlignment="Center" HeightRequest="50" TextColor="Black" Margin="20,10,0,0" HorizontalOptions="FillAndExpand">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnPickVideoTapped"/>
                </Label.GestureRecognizers>
            </Label>

            <Border StrokeShape="RoundRectangle 10" StrokeThickness="1"
        Stroke="White" BackgroundColor="White"
        Margin="20,5,5,10"
        HeightRequest="2"/>

            <Label Text="Capture video" VerticalTextAlignment="Center" HeightRequest="50" TextColor="Black" Margin="20,10,0,0" HorizontalOptions="FillAndExpand">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnRecordVideoTapped"/>
                </Label.GestureRecognizers>
            </Label>
        </StackLayout>
    </Grid>
</ContentView>